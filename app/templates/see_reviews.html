{% extends "base.html" %}
{% block title %}See Reviews{% endblock %}

{% block content %}
<div class="container mt-5">
  <h2 class="text-center" style="color: #fbbc04;">Your Reviews</h2>

  <style>
    .review-box {
      background-color: #1e1e1e;
      color: #f5f5f5;
      padding: 20px;
      border-radius: 10px;
      margin-bottom: 30px;
    }

    .review-box h5,
    .review-box label {
      color: #fbbc04;
    }

    .review-box textarea,
    .review-box select {
      background-color: #0d1117;
      color: #ffffff;
      border: 1px solid #fbbc04;
    }

    .review-box textarea::placeholder {
      color: #aaaaaa;
    }

    .btn-warning {
      background-color: #fbbc04;
      color: black;
      font-weight: bold;
    }

    .btn-warning:hover {
      background-color: #e0a800;
    }
  </style>

  {% for review in reviews %}
    <div class="review-box">
      <h5>{{ review.movie.primaryTitle }} ({{ review.movie.startYear }})</h5>
      <p><strong>Rating:</strong> {{ review.rating }}/5</p>
      <p>{{ review.content }}</p>

      <form method="POST" action="{{ url_for('see_reviews') }}">
        <input type="hidden" name="review_id" value="{{ review.id }}">
        <div class="mb-3">
          <label for="rating">Edit Rating:</label>
          <select class="form-select" name="rating">
            {% for i in range(1, 6) %}
              <option value="{{ i }}" {% if review.rating == i %}selected{% endif %}>{{ i }}</option>
            {% endfor %}
          </select>
        </div>
        <div class="mb-3">
          <label for="content">Edit Review:</label>
          <textarea class="form-control" name="content" rows="3">{{ review.content }}</textarea>
        </div>
        <button type="submit" class="btn btn-warning">Update Review</button>
      </form>
    </div>
  {% endfor %}
</div>
{% endblock %}
